(self.webpackChunk_ijm_relevic=self.webpackChunk_ijm_relevic||[]).push([[9892],{38478:function(e,t,n){"use strict";n.d(t,{kk:function(){return o},lP:function(){return l},TU:function(){return a}});var i=n(10658),r=n.n(i),o={caseId:0,data:"",confidentiality:!1,consent:!1,treatment:!1,security:"[]",legalProtection:"[]",mental:"[]",financial:"[]",social:"[]",physical:"[]",strengths:"",comments:"",userInChargeId:1,completed:!1},l="/attention-protocol",a=[{field:"mainGoal",headerName:"Meta",width:350,editable:!0},{field:"dueDate",headerName:"Fecha Objetiva",type:"date",editable:!0,width:220,valueGetter:function(e){return r()(e.row.dueDate).format("DD/MM/YYYY")}},{field:"goals",headerName:"Objetivos",editable:!0,width:350},{field:"goalsDueDate",headerName:"Fecha Objetiva",type:"date",width:220,editable:!0,valueGetter:function(e){return r()(e.row.goalsDueDate).format("DD/MM/YYYY")}},{field:"status",headerName:"Estado",editable:!0},{field:"providedBy",headerName:"Proporcionado por",width:220,editable:!0},{field:"comments",headerName:"Comentarios",width:320,editable:!0}]},64038:function(e,t,n){"use strict";n.d(t,{UA:function(){return i},NO:function(){return r},wz:function(){return o}});var i="/case",r="/comment",o=["Activos","Inactivos","Cerrados","Todos"]},44108:function(e,t,n){"use strict";n.d(t,{Jn:function(){return i},k:function(){return r},Cc:function(){return o}});var i={caseId:0,participation:"",commitment:0,comments:"",userInChargeId:0,completed:!1,description:""},r=[{label:"No",value:0},{label:"S\xed",value:1},{label:"Inseguro",value:2}],o="/demographic-form"},25058:function(e,t,n){"use strict";var i;n.d(t,{G:function(){return i}}),function(e){e[e.ADMIN=3]="ADMIN",e[e.COORDINADOR=1]="COORDINADOR",e[e.AGENTE=2]="AGENTE"}(i||(i={}))},63376:function(e,t,n){"use strict";n.d(t,{GU:function(){return r},gI:function(){return i},q$:function(){return o},SS:function(){return l},wt:function(){return a}});var i,r=function(e){return{caseId:0,violenceType:0,place:"",phase:e,security1:1,security2:1,security3:1,securityNotes:"",legalProtection1:1,legalProtection2:1,legalProtection3:1,legalProtectionNotes:"",mentalWelfare1:1,mentalWelfare2:1,mentalWelfare3:1,mentalWelfare4:1,mentalWelfareNotes:"",financial1:1,financial2:1,financial3:1,financial4:1,financialNotes:"",social1:1,social2:1,social3:1,social4:1,socialNotes:"",physical1:1,physical2:1,physical3:1,physical4:1,physical5:1,physicalNotes:"",total:0,survivorStatus:0,createdAt:"",completedAt:"",userInChargeId:0,completed:!1,provinceId:1,securityTotal:1,legalProtectionTotal:1,mentalWelfareTotal:1,financial:1,social:1,physical:1}};!function(e){e[e.START=0]="START",e[e.END=1]="END",e[e.POST=2]="POST",e[e.OTHER=3]="OTHER"}(i||(i={}));var o="/survivor-evaluation",l=[{label:"Explotaci\xf3n Sexual Comercial",value:0},{label:"Abuso Sexual Infantil",value:1},{label:"Explotaci\xf3n Laboral",value:2},{label:"Violencia Entre Pareja",value:3},{label:"Explotaci\xf3n Sexual en L\xednea",value:4},{label:"Apropiaci\xf3n de Propiedad",value:5},{label:"Abuso de Poder Policial",value:6}],a=[{label:"1 - Muy Vulnerable",value:1},{label:"2 - Vulnerable",value:2},{label:"3 - Estable",value:3},{label:"4 - Muy Estable",value:4}]},51653:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(1413),r=n(17592),o=n(17551),l=n(19860),a=n(9506),c=n(46417),s=(0,r.ZP)("span")((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode,l=n.color,a=n.variant;return(0,i.Z)({height:22,minWidth:22,lineHeight:0,borderRadius:6,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:t.spacing(0,1),color:t.palette.grey[800],fontSize:t.typography.pxToRem(12),fontFamily:t.typography.fontFamily,backgroundColor:t.palette.grey[300],fontWeight:t.typography.fontWeightBold},"default"!==l?(0,i.Z)((0,i.Z)((0,i.Z)({},"filled"===a&&(0,i.Z)({},function(e){return{color:t.palette[e].contrastText,backgroundColor:t.palette[e].main}}(l))),"outlined"===a&&(0,i.Z)({},function(e){return{color:t.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(t.palette[e].main)}}(l))),"ghost"===a&&(0,i.Z)({},function(e){return{color:t.palette[e][r?"dark":"light"],backgroundColor:(0,o.Fq)(t.palette[e].main,.16)}}(l))):(0,i.Z)((0,i.Z)({},"outlined"===a&&{backgroundColor:"transparent",color:t.palette.text.primary,border:"1px solid ".concat(t.palette.grey[50032])}),"ghost"===a&&{color:r?t.palette.text.secondary:t.palette.common.white,backgroundColor:t.palette.grey[50016]}))}));function d(e){var t=e.children,n=e.color,r=void 0===n?"default":n,o=e.variant,d=void 0===o?"ghost":o,u=e.startIcon,h=e.endIcon,f=e.sx,p=(0,l.Z)(),m={width:16,height:16,"& svg, img":{width:1,height:1,objectFit:"cover"}};return(0,c.jsxs)(s,{ownerState:{color:r,variant:d},sx:(0,i.Z)((0,i.Z)((0,i.Z)({},u&&{pl:.75}),h&&{pr:.75}),f),theme:p,children:[u&&(0,c.jsx)(a.Z,{sx:(0,i.Z)({mr:.75},m),children:u}),t,h&&(0,c.jsx)(a.Z,{sx:(0,i.Z)({ml:.75},m),children:h})]})}},85165:function(e,t,n){"use strict";n.d(t,{i5:function(){return p}});var i=n(1413),r=n(17592),o=n(9506),l=n(46417);(0,r.ZP)(o.Z,{shouldForwardProp:function(e){return"rounded"!==e}})((function(e){var t=e.rounded;return{display:"flex",listStyle:"none",alignItems:"center",justifyContent:"center","& li":{width:18,height:18,opacity:.32,cursor:"pointer"},"& li.slick-active":(0,i.Z)({opacity:1},t&&{"& .dotActive":{width:16,borderRadius:6}})}})),(0,r.ZP)("div")((function(){return{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),(0,r.ZP)("span")((function(e){var t=e.theme;return{width:8,height:8,borderRadius:"50%",transition:t.transitions.create("width",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.short})}}));var a=n(45987),c=n(19860),s=n(35898),d=n(24185),u=n(32913),h=["filled","customIcon","onNext","onPrevious","children"],f=(0,r.ZP)(u.w_,{shouldForwardProp:function(e){return"filled"!==e}})((function(e){var t=e.filled,n=e.theme;return(0,i.Z)({width:40,height:40,cursor:"pointer",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:n.palette.text.primary}},t&&{opacity:.48,borderRadius:1.5*Number(n.shape.borderRadius),color:n.palette.common.white,backgroundColor:n.palette.grey[900],"&:hover":{opacity:1,color:n.palette.common.white,backgroundColor:n.palette.grey[900]}})}));function p(e){var t=e.filled,n=void 0!==t&&t,r=e.customIcon,d=e.onNext,u=e.onPrevious,p=e.children,x=(0,a.Z)(e,h),g="rtl"===(0,c.Z)().direction,Z={position:"absolute",mt:-2.5,top:"50%",zIndex:9};return p?(0,l.jsxs)(o.Z,(0,i.Z)((0,i.Z)({},x),{},{children:[(0,l.jsx)(o.Z,{className:"arrow left",sx:(0,i.Z)((0,i.Z)({},Z),{},{left:0}),children:(0,l.jsx)(f,{filled:n,onClick:u,children:m(r,g)})}),p,(0,l.jsx)(o.Z,{className:"arrow right",sx:(0,i.Z)((0,i.Z)({},Z),{},{right:0}),children:(0,l.jsx)(f,{filled:n,onClick:d,children:v(r,g)})})]})):(0,l.jsxs)(s.Z,(0,i.Z)((0,i.Z)({direction:"row",spacing:1},x),{},{children:[(0,l.jsx)(f,{className:"arrow left",filled:n,onClick:u,children:m(r,g)}),(0,l.jsx)(f,{className:"arrow right",filled:n,onClick:d,children:v(r,g)})]}))}var m=function(e,t){return(0,l.jsx)(d.Z,{icon:e||"eva:arrow-right-fill",sx:(0,i.Z)({width:20,height:20,transform:" scaleX(-1)"},t&&{transform:" scaleX(1)"})})},v=function(e,t){return(0,l.jsx)(d.Z,{icon:e||"eva:arrow-right-fill",sx:(0,i.Z)({width:20,height:20},t&&{transform:" scaleX(-1)"})})},x=n(17551),g=n(47131);(0,r.ZP)(o.Z)((function(e){var t=e.theme;return{zIndex:9,display:"flex",alignItems:"center",position:"absolute",bottom:t.spacing(2),right:t.spacing(2),color:t.palette.common.white,borderRadius:t.shape.borderRadius,backgroundColor:(0,x.Fq)(t.palette.grey[900],.48)}})),(0,r.ZP)(g.Z)((function(e){return{padding:6,opacity:.48,color:e.theme.palette.common.white,"&:hover":{opacity:1}}}))},66973:function(e,t,n){"use strict";n.d(t,{$W:function(){return b},K:function(){return S},V7:function(){return Z},et:function(){return m},Nl:function(){return P}});var i=n(24076),r=n(67478),o=n(1413),l=n(45987),a=n(17592),c=n(9506),s=n(61113),d=n(25937),u=n(46417),h=["title","description","img"],f=(0,a.ZP)(c.Z)((function(e){return{height:"100%",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:e.theme.spacing(8,2)}}));function p(e){var t=e.title,n=e.description,i=e.img,r=(0,l.Z)(e,h);return(0,u.jsxs)(f,(0,o.Z)((0,o.Z)({},r),{},{children:[(0,u.jsx)(d.Z,{disabledEffect:!0,visibleByDefault:!0,alt:"empty content",src:i||"/assets/illustrations/illustration_empty_content.svg",sx:{height:240,mb:3}}),(0,u.jsx)(s.Z,{variant:"h5",gutterBottom:!0,children:t}),n&&(0,u.jsx)(s.Z,{variant:"body2",sx:{color:"text.secondary"},children:n})]}))}function m(e){var t=e.isNotFound;return(0,u.jsx)(i.Z,{children:t?(0,u.jsx)(r.Z,{colSpan:12,children:(0,u.jsx)(p,{title:"No se encontraron resultados",sx:{"& span.MuiBox-root":{height:160}}})}):(0,u.jsx)(r.Z,{colSpan:12,sx:{p:0}})})}var v=n(47131),x=n(24185),g=n(45358);function Z(e){var t=e.actions,n=e.open,i=e.onClose,r=e.onOpen;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v.Z,{onClick:r,children:(0,u.jsx)(x.Z,{icon:"eva:more-vertical-fill",width:20,height:20})}),(0,u.jsx)(g.Z,{open:Boolean(n),anchorEl:n,onClose:i,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},arrow:"right-top",sx:{mt:-1,width:260,"& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75,"& svg":{mr:2,width:20,height:20}}},children:t})]})}function b(e){var t=e.emptyRows,n=e.height;return t?(0,u.jsx)(i.Z,{sx:(0,o.Z)({},n&&{height:n*t}),children:(0,u.jsx)(r.Z,{colSpan:9})}):null}var y=n(23477),j=n(44758),w=n(82558),C={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function S(e){var t=e.order,n=e.orderBy,l=e.rowCount,a=void 0===l?0:l,s=e.headLabel,d=e.numSelected,h=void 0===d?0:d,f=e.onSort,p=e.onSelectAllRows,m=e.sx;return(0,u.jsx)(y.Z,{sx:m,children:(0,u.jsxs)(i.Z,{children:[p&&(0,u.jsx)(r.Z,{padding:"checkbox",children:(0,u.jsx)(j.Z,{indeterminate:h>0&&h<a,checked:a>0&&h===a,onChange:function(e){return p(e.target.checked)}})}),s.map((function(e){return(0,u.jsx)(r.Z,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:f?(0,u.jsxs)(w.Z,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:function(){return f(e.id)},sx:{textTransform:"capitalize"},children:[e.label,n===e.id?(0,u.jsx)(c.Z,{sx:(0,o.Z)({},C),children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id)}))]})})}var I=n(35898),A=["dense","actions","rowCount","numSelected","onSelectAllRows","sx"];function P(e){var t=e.dense,n=e.actions,i=e.rowCount,r=e.numSelected,a=e.onSelectAllRows,c=e.sx,d=(0,l.Z)(e,A);return(0,u.jsxs)(I.Z,(0,o.Z)((0,o.Z)({direction:"row",alignItems:"center",sx:(0,o.Z)((0,o.Z)({px:2,top:0,left:8,right:8,zIndex:9,height:58,borderRadius:1,position:"absolute",bgcolor:"primary.lighter"},t&&{pl:1,height:38}),c)},d),{},{children:[(0,u.jsx)(j.Z,{indeterminate:r>0&&r<i,checked:i>0&&r===i,onChange:function(e){return a(e.target.checked)}}),(0,u.jsxs)(s.Z,{variant:"subtitle1",sx:(0,o.Z)({ml:2,flexGrow:1,color:"primary.main"},t&&{ml:3}),children:[r," seleccionado"]}),n&&n]}))}},56250:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ze}});var i=n(19860),r=n(57227),o=n(9019),l=n(69099),a=n(1229),c=n(50177),s=n(22227),d=n(19118),u=n.n(d),h=n(58446),f=n(17592),p=n(73428),m=n(48148),v=n(24185),x=n(2471),g=n(46417);(0,f.ZP)(p.Z)((function(e){var t=e.theme;return{display:"flex",position:"relative",alignItems:"center",padding:t.spacing(3),backgroundColor:t.palette.primary.darker}})),(0,f.ZP)(v.Z)((function(e){var t=e.theme;return{width:120,height:120,opacity:.12,position:"absolute",right:t.spacing(-3),color:t.palette.common.white}}));var Z=n(1413),b=n(45987),y=n(4942),j=n(93405),w=n(61113),C=["title","description","action","img"],S=(0,f.ZP)(p.Z)((function(e){var t=e.theme;return(0,y.Z)({boxShadow:"none",textAlign:"center",backgroundColor:t.palette.primary.lighter},t.breakpoints.up("md"),{height:"100%",display:"flex",textAlign:"left",alignItems:"center",justifyContent:"space-between"})}));function I(e){var t=e.title,n=e.description,i=e.action,r=e.img,o=(0,b.Z)(e,C);return(0,g.jsxs)(S,(0,Z.Z)((0,Z.Z)({},o),{},{children:[(0,g.jsxs)(j.Z,{sx:{p:{md:0},pl:{md:5},color:"grey.800"},children:[(0,g.jsx)(w.Z,{gutterBottom:!0,variant:"h4",sx:{whiteSpace:"pre-line"},children:t}),(0,g.jsx)(w.Z,{variant:"body2",sx:{pb:{xs:3,xl:5},maxWidth:480,mx:"auto"},children:n}),i&&i]}),r&&r]}))}n(44021);var A=n(47313),P=n(17551);n(25937),n(32913),n(85165),(0,f.ZP)("div")((function(e){var t=e.theme;return{top:0,left:0,right:0,bottom:0,zIndex:8,position:"absolute",backgroundColor:(0,P.Fq)(t.palette.grey[900],.64)}}));var E=n(54641),k=n(51629),M=n(66835),D=n(57861),N=n(19536),R=n(9506),F=n(24076),T=n(67478),O=n(51653),z=n(95463),B=n(66973),W=["title","subheader","tableData","tableLabels"];function G(e){var t=e.title,n=e.subheader,i=e.tableData,r=e.tableLabels,o=(0,b.Z)(e,W);return(0,g.jsxs)(p.Z,(0,Z.Z)((0,Z.Z)({},o),{},{children:[(0,g.jsx)(E.Z,{title:t,subheader:n,sx:{mb:3}}),(0,g.jsx)(z.Z,{children:(0,g.jsx)(k.Z,{sx:{minWidth:720},children:(0,g.jsxs)(M.Z,{children:[(0,g.jsx)(B.K,{headLabel:r}),(0,g.jsx)(D.Z,{children:i.map((function(e,t){return(0,g.jsx)(V,{row:e},t)}))})]})})}),(0,g.jsx)(N.Z,{}),(0,g.jsx)(R.Z,{sx:{p:2,textAlign:"right"},children:(0,g.jsx)(l.Z,{size:"small",color:"inherit",endIcon:(0,g.jsx)(v.Z,{icon:"eva:arrow-ios-forward-fill"}),children:"View All"})})]}))}function V(e){var t=e.row,n=(0,i.Z)();return(0,g.jsxs)(F.Z,{hover:!0,children:[(0,g.jsx)(T.Z,{children:t.description}),(0,g.jsx)(T.Z,{children:(0,g.jsxs)(O.Z,{variant:"light"===n.palette.mode?"ghost":"filled",color:(t.antiquity>10?"warning":t.antiquity>20&&"error")||"success",children:[t.antiquity," D\xedas"]})})]})}n(68520),(0,f.ZP)("div")((function(e){var t=e.theme;return{width:40,height:40,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center",color:t.palette.primary.main,backgroundColor:(0,P.Fq)(t.palette.primary.main,.08)}}));var q=n(29439),H=n(94469),U=n(33604),Y=n(96467),L=n(24631),_=n(90891),J=n(10658),K=n.n(J),$=n(64038),X=n(25058),Q=n(92122);var ee=n(38175),te="#002C71",ne=10,ie=ee.mM.create({table:{width:"100%"},header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:te,color:"#fff",padding:3},headerCell:{fontWeight:"heavy",white:"#fff",width:"14.29%",fontSize:ne},body:{width:"100%",display:"flex",flexDirection:"column",backgroundColor:"#fff"},cell:{width:"14.29%",paddingHorizontal:2,fontSize:ne},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"5px 3px",borderBottomColor:"#f5f5f5",borderBottomWidth:1}}),re=function(e){var t=e.children;return(0,g.jsx)(ee.G7,{style:ie.table,children:t})};re.Header=function(e){var t=e.children;return(0,g.jsx)(ee.G7,{style:ie.header,children:t})},re.Body=function(e){var t=e.children;return(0,g.jsx)(ee.G7,{style:ie.body,children:t})},re.Row=function(e){var t=e.children;return(0,g.jsx)(ee.G7,{style:ie.row,children:t})},re.HeaderCell=function(e){var t=e.children,n=e.style;return(0,g.jsx)(ee.xv,{style:[ie.cell,n],children:t})},re.Cell=function(e){var t=e.children,n=e.style;return(0,g.jsx)(ee.xv,{style:[ie.cell,n],children:t})};var oe=re;ee.Zx.register({family:"Circular",src:"/fonts/CircularStd-Book.otf"}),ee.Zx.register({family:"Circular-Bold",src:"/fonts/CircularStd-Bold.otf"});var le=ee.mM.create({page:{paddingVertical:30,paddingHorizontal:48},section:{marginVertical:30},logo:{width:200,marginBottom:14},headerLabel:{fontSize:12,fontFamily:"Circular-Bold"},title:{fontSize:16,fontFamily:"Circular-Bold"},label:{fontSize:9,letterSpacing:.75,textTransform:"uppercase",marginBottom:4,fontFamily:"Circular-Bold"},text:{fontSize:12,fontFamily:"Circular"},info:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",marginBottom:16},divider:{width:"100%",height:1,backgroundColor:"#F2F2F2"},row:{display:"flex",flexDirection:"row"},column:{flex:1,display:"flex",flexDirection:"column"}}),ae=function(e){var t=e.cases,n=e.month;return(0,g.jsx)(ee.BB,{children:(0,g.jsxs)(ee.T3,{size:"A4",style:le.page,children:[(0,g.jsxs)(ee.G7,{style:[le.section],children:[(0,g.jsx)(ee.Ee,{source:"/assets/logo-pgr-azul.png",style:le.logo}),(0,g.jsx)(ee.xv,{style:le.title,children:"M\xf3dulo de Servicios a la V\xedctima"}),(0,g.jsxs)(ee.xv,{style:le.headerLabel,children:["Casos Registrados en el Mes de ",n]})]}),(0,g.jsx)(ee.G7,{style:le.divider}),(0,g.jsxs)(oe,{children:[(0,g.jsxs)(oe.Header,{children:[(0,g.jsx)(oe.HeaderCell,{style:{width:"8%"},children:"C\xf3digo"}),(0,g.jsx)(oe.HeaderCell,{style:{width:"25%"},children:"V\xedctima"}),(0,g.jsx)(oe.HeaderCell,{style:{width:"12%"},children:"ESO Inicial"}),(0,g.jsx)(oe.HeaderCell,{style:{width:"12%"},children:"ESO Cierre"}),(0,g.jsx)(oe.HeaderCell,{style:{width:"12%"},children:"ESO Post"}),(0,g.jsx)(oe.HeaderCell,{style:{width:"11%"},children:"Estado"}),(0,g.jsx)(oe.HeaderCell,{style:{width:"20%"},children:"Fecha de Creaci\xf3n"})]}),(0,g.jsx)(oe.Body,{children:t.map((function(e){return(0,g.jsxs)(oe.Row,{children:[(0,g.jsx)(oe.Cell,{style:{width:"8%"},children:e.code}),(0,g.jsx)(oe.Cell,{style:{width:"25%"},children:e.victim.name}),(0,g.jsx)(oe.Cell,{style:{width:"12%"},children:e.initialSurvivorEvaluation.total}),(0,g.jsx)(oe.Cell,{style:{width:"12%"},children:e.finalSurvivorEvaluation.total}),(0,g.jsx)(oe.Cell,{style:{width:"12%"},children:e.postSurvivorEvaluation.total}),(0,g.jsx)(oe.Cell,{style:{width:"11%"},children:e.inactive?"Inactivo":e.completed?"Cerrado":"Activo"}),(0,g.jsx)(oe.Cell,{style:{width:"20%"},children:e.createdAt?K()(e.createdAt).format("DD/MM/YYYY"):"--"})]},e.id)}))})]})]})})},ce=["title","subheader"];function se(e){var t=e.title,n=e.subheader,i=(0,b.Z)(e,ce),r=function(){var e,t,n=(0,a.Z)().user,i=(null===n||void 0===n||null===(e=n.role)||void 0===e?void 0:e.id)===X.G.AGENTE,r=null===n||void 0===n?void 0:n.id,o=null===n||void 0===n||null===(t=n.provider)||void 0===t?void 0:t.id,l=(0,Q.ZP)(i?r?"".concat($.UA,"/user/").concat(r):null:1===o?$.UA:o?"".concat($.UA,"/provider/").concat(o):null).data,c=void 0===l?[]:l,s=(0,A.useState)([]),d=(0,q.Z)(s,2),u=d[0],h=d[1];return(0,A.useEffect)((function(){h([0,1,2,3,4,5,6,7,8,9,10,11].map((function(e){return c.filter((function(t){return K()(t.createdAt).month()===e&&K()().year()===K()(t.createdAt).year()})).length})))}),[c]),u}(),o=[{name:"Nuevos Casos",data:r}],c=u()((0,x.F)(),{xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dic"]}}),s=(0,A.useState)(!1),d=(0,q.Z)(s,2),f=d[0],m=d[1],v=(0,A.useState)(K()().month()),y=(0,q.Z)(v,2),j=y[0],w=y[1],C=(0,A.useState)([]),S=(0,q.Z)(C,2),I=S[0],P=S[1],k=function(){var e,t,n=(0,a.Z)().user,i=(null===n||void 0===n||null===(e=n.role)||void 0===e?void 0:e.id)===X.G.AGENTE,r=null===n||void 0===n?void 0:n.id,o=null===n||void 0===n||null===(t=n.provider)||void 0===t?void 0:t.id,l=(0,Q.ZP)(i?r?"".concat($.UA,"/user/").concat(r):null:1===o?$.UA:o?"".concat($.UA,"/provider/").concat(o):null).data;return{cases:void 0===l?[]:l}}().cases,M=(0,ee.Eb)({document:(0,g.jsx)(ae,{cases:I,month:K()().month(j).format("MMMM")})}),D=(0,q.Z)(M,2),N=D[0],F=D[1];return(0,A.useEffect)((function(){P(k.filter((function(e){return K()(e.createdAt).month()===j})))}),[j,k]),(0,A.useEffect)((function(){F()}),[I]),(0,g.jsxs)(p.Z,(0,Z.Z)((0,Z.Z)({},i),{},{children:[(0,g.jsx)(E.Z,{title:t,subheader:n,action:(0,g.jsx)(l.Z,{variant:"contained",onClick:function(){return m(!0)},children:"Descargar Reporte"})}),(0,g.jsx)(R.Z,{sx:{mt:3,mx:3},dir:"ltr",children:(0,g.jsx)(h.Z,{type:"line",series:o,options:c,height:364})}),(0,g.jsxs)(H.Z,{open:f,onClose:function(){return m(!1)},children:[(0,g.jsx)(U.Z,{children:"Reporte de Casos"}),(0,g.jsx)(Y.Z,{children:(0,g.jsxs)(R.Z,{sx:{p:4,flexDirection:"column",display:"flex",gap:3},children:[(0,g.jsxs)(L.Z,{select:!0,label:"Mes",fullWidth:!0,SelectProps:{native:!0},sx:{width:300},value:j,onChange:function(e){return w(+e.target.value)},children:[(0,g.jsx)("option",{value:0,children:"Enero"}),(0,g.jsx)("option",{value:1,children:"Febrero"}),(0,g.jsx)("option",{value:2,children:"Marzo"}),(0,g.jsx)("option",{value:3,children:"Abril"}),(0,g.jsx)("option",{value:4,children:"Mayo"}),(0,g.jsx)("option",{value:5,children:"Junio"}),(0,g.jsx)("option",{value:6,children:"Julio"}),(0,g.jsx)("option",{value:7,children:"Agosto"}),(0,g.jsx)("option",{value:8,children:"Septiembre"}),(0,g.jsx)("option",{value:9,children:"Octubre"}),(0,g.jsx)("option",{value:10,children:"Noviembre"}),(0,g.jsx)("option",{value:11,children:"Diciembre"})]}),N.url&&(0,g.jsx)(_.Z,{href:N.url,download:"Casos del mes de ".concat(K()().locale("es").month(j).format("MMMM"),".pdf"),children:"Descargar Informe"})]})})]})]}))}(0,f.ZP)("div")((function(e){var t=e.theme;return{width:24,height:24,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center",color:t.palette.success.main,backgroundColor:(0,P.Fq)(t.palette.success.main,.16)}}));var de=n(63376);var ue=["title","subheader","chartColors"],he=(0,f.ZP)("div")((function(e){var t=e.theme;return{height:392,marginTop:t.spacing(5),"& .apexcharts-canvas svg":{height:392},"& .apexcharts-canvas svg,.apexcharts-canvas foreignObject":{overflow:"visible"},"& .apexcharts-legend":{height:72,alignContent:"center",position:"relative !important",borderTop:"solid 1px ".concat(t.palette.divider),top:"calc(".concat(320,"px) !important")}}}));function fe(e){var t=e.title,n=e.subheader,r=e.chartColors,o=(0,b.Z)(e,ue),l=(0,i.Z)(),c=(0,A.useState)(0),s=(0,q.Z)(c,2),d=s[0],f=s[1],v=function(e){var t,n=(0,a.Z)().user,i=(null===n||void 0===n?void 0:n.role.id)===X.G.AGENTE,r=null===n||void 0===n?void 0:n.id,o=null===n||void 0===n||null===(t=n.provider)||void 0===t?void 0:t.id,l=(0,Q.ZP)(i?r?"".concat(de.q$,"/user/").concat(r):null:de.q$).data,c=void 0===l?[]:l,s=(0,A.useState)([{label:"Muy Vulnerable",value:0},{label:"Vulnerable",value:0},{label:"Estable",value:0},{label:"Muy Estable",value:0}]),d=(0,q.Z)(s,2),u=d[0],h=d[1];return(0,A.useEffect)((function(){var t=c.filter((function(t){return t.phase===e}));if(null!==o){1!==o&&(t=t.filter((function(e){var t,n;return(null===(t=e.userInCharge)||void 0===t||null===(n=t.provider)||void 0===n?void 0:n.id)===o})));var n=t.filter((function(e){return e.total<=1})).length,i=t.filter((function(e){return e.total>1&&e.total<=2})).length,r=t.filter((function(e){return e.total>2&&e.total<=3})).length,l=t.filter((function(e){return e.total>3})).length;h([{label:"Muy Vulnerable",value:n},{label:"Vulnerable",value:i},{label:"Estable",value:r},{label:"Muy Estable",value:l}])}}),[c,e,o]),u}(d),y=v.map((function(e){return e.label})),j=v.map((function(e){return e.value})),w=u()((0,x.F)(),{colors:r,labels:y,stroke:{colors:[l.palette.background.paper]},legend:{floating:!0,horizontalAlign:"center"},tooltip:{fillSeriesColor:!1,y:{formatter:function(e){return(0,m.FK)(e)},title:{formatter:function(e){return"".concat(e)}}}},plotOptions:{pie:{donut:{size:"90%",labels:{value:{formatter:function(e){return(0,m.FK)(e)}},total:{formatter:function(e){var t=e.globals.seriesTotals.reduce((function(e,t){return e+t}),0);return(0,m.FK)(t)}}}}}}});return(0,g.jsxs)(p.Z,(0,Z.Z)((0,Z.Z)({},o),{},{children:[(0,g.jsx)(E.Z,{title:t,subheader:n,action:(0,g.jsx)(L.Z,{select:!0,fullWidth:!0,value:d,SelectProps:{native:!0},onChange:function(e){f(+e.target.value)},sx:{"& fieldset":{border:"0 !important"},"& select":{pl:1,py:.5,pr:"24px !important",typography:"subtitle2"},"& .MuiOutlinedInput-root":{borderRadius:.75,bgcolor:"background.neutral"},"& .MuiNativeSelect-icon":{top:4,right:0,width:20,height:20}},children:["Etapa Inicial","Al Cierre del Caso","Un a\xf1o despu\xe9s del cierre"].map((function(e,t){return(0,g.jsx)("option",{value:t,children:e},t)}))})}),(0,g.jsx)(he,{dir:"ltr",children:(0,g.jsx)(h.Z,{type:"donut",series:j,options:w,height:280})})]}))}var pe=n(35898);(0,f.ZP)((function(e){return(0,g.jsx)(pe.Z,(0,Z.Z)({direction:"row",alignItems:"center"},e))}))({minWidth:72,flex:"1 1"}),(0,f.ZP)(v.Z)((function(e){var t=e.theme;return{width:16,height:16,marginRight:t.spacing(.5),color:t.palette.text.disabled}}));var me=n(19453),ve=n(93433),xe=n(38478),ge=n(44108);function Ze(){var e=(0,a.Z)().user,t=function(){var e=(0,a.Z)().user,t=(0,Q.ZP)(e?"".concat(de.q$,"/user/").concat(e.id):null).data,n=void 0===t?[]:t,i=(0,Q.ZP)(e?"".concat(ge.Cc,"/user/").concat(e.id):null).data,r=void 0===i?[]:i,o=(0,Q.ZP)(e?"".concat(xe.lP,"/user/").concat(e.id):null).data,l=void 0===o?[]:o,c=(0,A.useState)([]),s=(0,q.Z)(c,2),d=s[0],u=s[1],h=function(e){var t=K()(),n=K()(e);return t.diff(n,"day")};return(0,A.useEffect)((function(){var e=n.filter((function(e){return!1===e.completed})).map((function(e){return{caseId:e.caseId,description:"Realizar Evaluaci\xf3n del Sobreviviente",isFollowUp:!1,antiquity:h(e.createdAt)}})),t=r.filter((function(e){return!1===e.completed})).map((function(e){return{caseId:e.caseId,description:"Completar Formulario Demogr\xe1fico",isFollowUp:!1,antiquity:h(e.createdAt)}})),i=l.filter((function(e){return!1===e.completed})).map((function(e){return{caseId:e.caseId,description:"Realizar Protocolo de Atenci\xf3n",isFollowUp:!1,antiquity:h(e.createdAt)}}));u([].concat((0,ve.Z)(t),(0,ve.Z)(e),(0,ve.Z)(i)))}),[n,r,l]),d}(),n=(0,i.Z)(),d=(0,c.Z)().themeStretch;return(0,g.jsx)(s.Z,{title:"Dashboard",children:(0,g.jsx)(r.Z,{maxWidth:!d&&"xl",children:(0,g.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,g.jsx)(o.ZP,{item:!0,xs:12,md:12,children:(0,g.jsx)(I,{title:"Bienvenido de vuelta! \n ".concat(null===e||void 0===e?void 0:e.name),description:"En el siguiente dashboard encontrar\xe1s la informaci\xf3n necesario del m\xf3dulo de sobrevivientes. \xbfNecesitas Ayuda?",img:(0,g.jsx)(me.XI,{sx:{p:3,width:360,margin:{xs:"auto",md:"inherit"}}}),action:(0,g.jsx)(l.Z,{variant:"contained",onClick:function(){var e=document.createElement("a");e.href="/assets/manual_web.pdf",e.download="Manual Administrador y Usuario Aplicacio\u0301n Mo\u0301dulo Servicios Vi\u0301ctimas Versio\u0301n Web.pdf",document.body.appendChild(e),e.click(),document.body.removeChild(e);var t=document.createElement("a");t.href="/assets/manual_mobile.pdf",t.download="Manual Usuario Aplicacio\u0301n Mo\u0301dulo Servicios Vi\u0301ctimas Versio\u0301n Mo\u0301vil.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:"Descargar los Manuales"})})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,md:4,lg:4,children:(0,g.jsx)(fe,{title:"Resultados ESO",chartColors:[n.palette.error.main,n.palette.warning.main,n.palette.primary.main,n.palette.primary.dark]})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,md:8,lg:8,children:(0,g.jsx)(se,{title:"Casos Asignados",subheader:"Durante el a\xf1o"})}),(0,g.jsx)(o.ZP,{item:!0,xs:12,lg:12,children:(0,g.jsx)(G,{title:"Mis Tareas Pendientes",tableData:t,tableLabels:[{id:"description",label:"Tarea"},{id:"antiquity",label:"Antiguedad"}]})})]})})})}},42480:function(){}}]);